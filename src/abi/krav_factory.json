{
  "address": "0xF9d56982944b344FF3632B4eE6105C2Ea6E5e931",
  "abi": [
    {
      "inputs": [
        { "internalType": "address", "name": "_storageT", "type": "address" },
        { "internalType": "address", "name": "_pairInfoT", "type": "address" },
        { "internalType": "address", "name": "_pairStorageT", "type": "address" },
        { "internalType": "address", "name": "_tradingT", "type": "address" },
        { "internalType": "address", "name": "_callbackT", "type": "address" },
        { "internalType": "address", "name": "_rewardT", "type": "address" },
        { "internalType": "address", "name": "_vaultT", "type": "address" },
        { "internalType": "address", "name": "_priceAggregatorT", "type": "address" }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        { "indexed": false, "internalType": "uint256", "name": "", "type": "uint256" },
        { "indexed": false, "internalType": "int256", "name": "", "type": "int256" },
        { "indexed": false, "internalType": "address", "name": "", "type": "address" },
        { "indexed": false, "internalType": "address", "name": "", "type": "address" },
        { "indexed": false, "internalType": "address", "name": "", "type": "address" },
        { "indexed": false, "internalType": "address", "name": "", "type": "address" },
        { "indexed": false, "internalType": "address", "name": "", "type": "address" },
        { "indexed": false, "internalType": "address", "name": "", "type": "address" },
        { "indexed": false, "internalType": "address", "name": "", "type": "address" },
        { "indexed": false, "internalType": "address", "name": "", "type": "address" },
        { "indexed": false, "internalType": "address", "name": "", "type": "address" }
      ],
      "name": "QuantoCreated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        { "indexed": false, "internalType": "address", "name": "trader", "type": "address" },
        { "indexed": false, "internalType": "address", "name": "referral", "type": "address" }
      ],
      "name": "Referral",
      "type": "event"
    },
    {
      "inputs": [
        { "internalType": "contract TokenInterfaceV5", "name": "_token", "type": "address" },
        { "internalType": "contract TokenInterfaceV5", "name": "_linkToken", "type": "address" },
        { "internalType": "address[]", "name": "_nodes", "type": "address[]" },
        { "internalType": "int256", "name": "proportionBTC", "type": "int256" },
        { "internalType": "uint256", "name": "_depositAmount", "type": "uint256" }
      ],
      "name": "createQuanto",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [{ "internalType": "address", "name": "", "type": "address" }],
      "name": "isPriceAggregator",
      "outputs": [{ "internalType": "bool", "name": "", "type": "bool" }],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [{ "internalType": "address", "name": "", "type": "address" }],
      "name": "isStorage",
      "outputs": [{ "internalType": "bool", "name": "", "type": "bool" }],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [{ "internalType": "address", "name": "", "type": "address" }],
      "name": "isTrading",
      "outputs": [{ "internalType": "bool", "name": "", "type": "bool" }],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [{ "internalType": "address", "name": "", "type": "address" }],
      "name": "numReferral",
      "outputs": [{ "internalType": "uint256", "name": "", "type": "uint256" }],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [{ "internalType": "uint256", "name": "", "type": "uint256" }],
      "name": "quantos",
      "outputs": [
        { "internalType": "address", "name": "tokenT", "type": "address" },
        { "internalType": "address", "name": "storageT", "type": "address" },
        { "internalType": "address", "name": "pairInfoT", "type": "address" },
        { "internalType": "address", "name": "pairStorageT", "type": "address" },
        { "internalType": "address", "name": "tradingT", "type": "address" },
        { "internalType": "address", "name": "callbackT", "type": "address" },
        { "internalType": "address", "name": "rewardT", "type": "address" },
        { "internalType": "address", "name": "vaultT", "type": "address" },
        { "internalType": "address", "name": "priceAggregatorT", "type": "address" }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "quantosCount",
      "outputs": [{ "internalType": "uint256", "name": "", "type": "uint256" }],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [{ "internalType": "address", "name": "", "type": "address" }],
      "name": "referrals",
      "outputs": [{ "internalType": "address", "name": "", "type": "address" }],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        { "internalType": "address", "name": "_trader", "type": "address" },
        { "internalType": "address", "name": "_referral", "type": "address" }
      ],
      "name": "storeReferral",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        { "internalType": "contract TokenInterfaceV5", "name": "_token", "type": "address" },
        { "internalType": "address", "name": "_from", "type": "address" },
        { "internalType": "address", "name": "_to", "type": "address" },
        { "internalType": "uint256", "name": "_amount", "type": "uint256" }
      ],
      "name": "transferTokenProxy",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "transactionHash": "0xc13ebd5d4f17e68362142cc3fb98bd0bb96867506c6317ad03d7a2fbca58d1be",
  "receipt": {
    "to": null,
    "from": "0x284f1b4a9C4B9495F79de62a55337e0a07cCF3fF",
    "contractAddress": "0x67F2Dfcc3b965A541E88A558375B8517b60c4A38",
    "transactionIndex": 37,
    "gasUsed": "1384609",
    "logsBloom": "0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
    "blockHash": "0x532e5362c8b5461c0c50e04ac4fb7b8e4375cba54d74011c57e37f87f999741e",
    "transactionHash": "0xc13ebd5d4f17e68362142cc3fb98bd0bb96867506c6317ad03d7a2fbca58d1be",
    "logs": [],
    "blockNumber": 3967129,
    "cumulativeGasUsed": "5818567",
    "status": 1,
    "byzantium": true
  },
  "args": [
    "0x0A9475f047DFc96E23343F01eeBbce56497f7520",
    "0x12EADdBF9133F2cde1aFb999CC17966B998aEac3",
    "0xaF03070d18f5c1af470deAAF1618b2Dd4daE1CB1",
    "0x8BD74402a46A450EDF0cbCEc83F77c428d77A734",
    "0x31F87c2B402DD2B85f9567e0B38BE9bc69BB439d",
    "0x57f370bD0aA4901e67e1108568A7669a481d016b",
    "0x4f1130863581eB00c33abdea3E2f0669209E56f3",
    "0x17a26d994800Faf302CE033B4d49B2FD12bE669b"
  ],
  "numDeployments": 1,
  "solcInputHash": "039b3e53832cf18e00acfbb07bb27199",
  "metadata": "{\"compiler\":{\"version\":\"0.8.14+commit.80d49f37\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_storageT\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_pairInfoT\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_pairStorageT\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_tradingT\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_callbackT\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_rewardT\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_vaultT\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_priceAggregatorT\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"int256\",\"name\":\"\",\"type\":\"int256\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"QuantoCreated\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"contract TokenInterfaceV5\",\"name\":\"_token\",\"type\":\"address\"},{\"internalType\":\"contract TokenInterfaceV5\",\"name\":\"_linkToken\",\"type\":\"address\"},{\"internalType\":\"address[]\",\"name\":\"_nodes\",\"type\":\"address[]\"},{\"internalType\":\"int256\",\"name\":\"proportionBTC\",\"type\":\"int256\"},{\"internalType\":\"uint256\",\"name\":\"_depositAmount\",\"type\":\"uint256\"}],\"name\":\"createQuanto\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"isPriceAggregator\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"isStorage\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"quantos\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"tokenT\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"storageT\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"pairInfoT\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"pairStorageT\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"tradingT\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"callbackT\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"rewardT\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"vaultT\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"priceAggregatorT\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"quantosCount\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"contract TokenInterfaceV5\",\"name\":\"_token\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_from\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_to\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_amount\",\"type\":\"uint256\"}],\"name\":\"transferTokenProxy\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/KravFactory.sol\":\"KravFactory\"},\"evmVersion\":\"london\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":true,\"runs\":800},\"remappings\":[]},\"sources\":{\"@openzeppelin/contracts/proxy/Clones.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n\\npragma solidity ^0.8.0;\\n\\n/**\\n * @dev https://eips.ethereum.org/EIPS/eip-1167[EIP 1167] is a standard for\\n * deploying minimal proxy contracts, also known as \\\"clones\\\".\\n *\\n * > To simply and cheaply clone contract functionality in an immutable way, this standard specifies\\n * > a minimal bytecode implementation that delegates all calls to a known, fixed address.\\n *\\n * The library includes functions to deploy a proxy using either `create` (traditional deployment) or `create2`\\n * (salted deterministic deployment). It also includes functions to predict the addresses of clones deployed using the\\n * deterministic method.\\n *\\n * _Available since v3.4._\\n */\\nlibrary Clones {\\n    /**\\n     * @dev Deploys and returns the address of a clone that mimics the behaviour of `implementation`.\\n     *\\n     * This function uses the create opcode, which should never revert.\\n     */\\n    function clone(address implementation) internal returns (address instance) {\\n        assembly {\\n            let ptr := mload(0x40)\\n            mstore(ptr, 0x3d602d80600a3d3981f3363d3d373d3d3d363d73000000000000000000000000)\\n            mstore(add(ptr, 0x14), shl(0x60, implementation))\\n            mstore(add(ptr, 0x28), 0x5af43d82803e903d91602b57fd5bf30000000000000000000000000000000000)\\n            instance := create(0, ptr, 0x37)\\n        }\\n        require(instance != address(0), \\\"ERC1167: create failed\\\");\\n    }\\n\\n    /**\\n     * @dev Deploys and returns the address of a clone that mimics the behaviour of `implementation`.\\n     *\\n     * This function uses the create2 opcode and a `salt` to deterministically deploy\\n     * the clone. Using the same `implementation` and `salt` multiple time will revert, since\\n     * the clones cannot be deployed twice at the same address.\\n     */\\n    function cloneDeterministic(address implementation, bytes32 salt) internal returns (address instance) {\\n        assembly {\\n            let ptr := mload(0x40)\\n            mstore(ptr, 0x3d602d80600a3d3981f3363d3d373d3d3d363d73000000000000000000000000)\\n            mstore(add(ptr, 0x14), shl(0x60, implementation))\\n            mstore(add(ptr, 0x28), 0x5af43d82803e903d91602b57fd5bf30000000000000000000000000000000000)\\n            instance := create2(0, ptr, 0x37, salt)\\n        }\\n        require(instance != address(0), \\\"ERC1167: create2 failed\\\");\\n    }\\n\\n    /**\\n     * @dev Computes the address of a clone deployed using {Clones-cloneDeterministic}.\\n     */\\n    function predictDeterministicAddress(\\n        address implementation,\\n        bytes32 salt,\\n        address deployer\\n    ) internal pure returns (address predicted) {\\n        assembly {\\n            let ptr := mload(0x40)\\n            mstore(ptr, 0x3d602d80600a3d3981f3363d3d373d3d3d363d73000000000000000000000000)\\n            mstore(add(ptr, 0x14), shl(0x60, implementation))\\n            mstore(add(ptr, 0x28), 0x5af43d82803e903d91602b57fd5bf3ff00000000000000000000000000000000)\\n            mstore(add(ptr, 0x38), shl(0x60, deployer))\\n            mstore(add(ptr, 0x4c), salt)\\n            mstore(add(ptr, 0x6c), keccak256(ptr, 0x37))\\n            predicted := keccak256(add(ptr, 0x37), 0x55)\\n        }\\n    }\\n\\n    /**\\n     * @dev Computes the address of a clone deployed using {Clones-cloneDeterministic}.\\n     */\\n    function predictDeterministicAddress(address implementation, bytes32 salt)\\n        internal\\n        view\\n        returns (address predicted)\\n    {\\n        return predictDeterministicAddress(implementation, salt, address(this));\\n    }\\n}\\n\",\"keccak256\":\"0xa3bbab77849522b73d8c6cd3d2ac54bef7580e4354484f35f4cabf55d3d2b3f9\",\"license\":\"MIT\"},\"contracts/KravFactory.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity 0.8.14;\\n\\nimport './interfaces/TokenInterfaceV5.sol';\\nimport './interfaces/StorageInterfaceV5.sol';\\nimport './interfaces/GNSPairInfosInterfaceV6.sol';\\nimport './interfaces/PairsStorageInterfaceV6.sol';\\nimport './interfaces/VaultInterfaceV5.sol';\\n\\nimport '@openzeppelin/contracts/proxy/Clones.sol';\\n\\ncontract KravFactory {\\n\\n    struct Quanto {\\n        address tokenT;\\n        address storageT;\\n        address pairInfoT;\\n        address pairStorageT;\\n        address tradingT;\\n        address callbackT;\\n        address rewardT;\\n        address vaultT;\\n        address priceAggregatorT;\\n    }\\n\\n    address immutable storageT;\\n    address immutable pairInfoT;\\n    address immutable pairStorageT;\\n    address immutable tradingT;\\n    address immutable callbackT;\\n    address immutable rewardT;\\n    address immutable vaultT;\\n    address immutable priceAggregatorT;\\n\\n    mapping(uint => Quanto) public quantos;\\n    uint256 public quantosCount;\\n    mapping(address => bool) public isStorage;\\n    mapping(address => bool) public isPriceAggregator;\\n\\n    event QuantoCreated(uint256, int256, address, address, address, address, address, address, address, address, address);\\n\\n    constructor(\\n        address _storageT,\\n        address _pairInfoT,\\n        address _pairStorageT,\\n        address _tradingT,\\n        address _callbackT,\\n        address _rewardT,\\n        address _vaultT,\\n        address _priceAggregatorT\\n    ) {\\n        storageT = _storageT;\\n        pairInfoT = _pairInfoT;\\n        pairStorageT = _pairStorageT;\\n        tradingT = _tradingT;\\n        callbackT = _callbackT;\\n        rewardT = _rewardT;\\n        vaultT = _vaultT;\\n        priceAggregatorT = _priceAggregatorT;\\n    }\\n\\n    function createQuanto(TokenInterfaceV5 _token, TokenInterfaceV5 _linkToken, address[] calldata _nodes, int proportionBTC, uint256 _depositAmount) external {\\n        Quanto memory quanto;\\n\\n        quanto.tokenT = address(_token);\\n        quanto.storageT = Clones.clone(storageT);\\n        quanto.pairInfoT = Clones.clone(pairInfoT);\\n        quanto.pairStorageT = Clones.clone(pairStorageT);\\n        quanto.tradingT = Clones.clone(tradingT);\\n        quanto.callbackT = Clones.clone(callbackT);\\n        quanto.rewardT = Clones.clone(rewardT);\\n        quanto.vaultT = Clones.clone(vaultT);\\n        quanto.priceAggregatorT = Clones.clone(priceAggregatorT);\\n\\n        StorageInterfaceV5 _storage = StorageInterfaceV5(quanto.storageT);\\n        GNSPairInfosInterfaceV6 _pairInfo = GNSPairInfosInterfaceV6(quanto.pairInfoT);\\n        PairsStorageInterfaceV6 _pairStorage = PairsStorageInterfaceV6(quanto.pairStorageT);\\n\\n        _storage.initialize(KravFactoryInterface(address(this)), _token, _linkToken);\\n        _pairInfo.initialize(_storage);\\n        _pairStorage.initialize(1, _storage);\\n        TradingInterface(quanto.tradingT).initialize(_storage, _pairInfo);\\n        TradingInterface(quanto.callbackT).initialize(_storage, _pairInfo);\\n        NftRewardsInterfaceV6(quanto.rewardT).initialize(_storage);\\n        VaultInterfaceV5(quanto.vaultT).initialize(_storage);\\n        AggregatorInterfaceV6(quanto.priceAggregatorT).initialize(_nodes, _pairStorage, quanto.rewardT, _storage, address(_linkToken));\\n\\n        _storage.setPriceAggregator(quanto.priceAggregatorT);\\n        _storage.addTradingContract(quanto.tradingT);\\n        _storage.addTradingContract(quanto.callbackT);\\n        _storage.addTradingContract(quanto.vaultT);\\n        _storage.setTrading(quanto.tradingT);\\n        _storage.setCallbacks(quanto.callbackT);\\n        _storage.setVault(quanto.vaultT);\\n        _storage.setMaxOpenInterestDai(0, type(uint256).max);\\n\\n        _pairStorage.addFee(PairsStorageInterfaceV6.Fee(\\\"crypto\\\", 300000000, 600000000, 60000000, 200000000,1,1500000000000000000000));\\n        _pairStorage.addGroup(PairsStorageInterfaceV6.Group(\\\"crypto\\\",bytes32(0x3335303438333964343337663437383339333330353365386330333465363933),2,150,15));\\n        _pairStorage.addPair(PairsStorageInterfaceV6.Pair(\\\"BTC\\\",\\\"USD\\\",PairsStorageInterfaceV6.Feed(address(0x1b44F3514812d835EB1BDB0acB33d3fA3351Ee43),address(0),PairsStorageInterfaceV6.FeedCalculation.DEFAULT,20000000000), 400000000,0,0,proportionBTC));\\n\\n        // _linkToken.transfer(quanto.priceAggregatorT, 0.1 ether);\\n        isStorage[quanto.storageT] = true;\\n        isPriceAggregator[quanto.priceAggregatorT] = true;\\n\\n        // deposit token\\n        require(_token.transferFrom(msg.sender, address(this), _depositAmount));\\n        _token.approve(quanto.vaultT, _depositAmount);\\n        VaultInterfaceV5(quanto.vaultT).depositDaiFor(_depositAmount, msg.sender);\\n\\n        uint256 _index = quantosCount++;\\n        quantos[_index] = quanto;\\n        emit QuantoCreated(_index, proportionBTC, address(_token), address(_storage), address(_pairInfo), address(_pairStorage), quanto.tradingT, quanto.callbackT, quanto.rewardT, quanto.vaultT, quanto.priceAggregatorT);\\n    }\\n\\n    function transferTokenProxy(TokenInterfaceV5 _token, address _from, address _to, uint256 _amount) external {\\n        require(isStorage[msg.sender] || isPriceAggregator[msg.sender], '!storage && !aggregator');\\n        if (_from == address(this)) {\\n            require(_token.transfer(_to, _amount), 'failed to transfer');\\n        } else {\\n            require(_token.transferFrom(_from, _to, _amount), 'failed to transfer');\\n        }\\n    }\\n\\n}\\n\",\"keccak256\":\"0xb6e8f7e0cc8ae90f93690b9238c9002134967523fc9b8512c1393e05931471da\",\"license\":\"MIT\"},\"contracts/interfaces/GNSPairInfosInterfaceV6.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity 0.8.14;\\n\\nimport \\\"./StorageInterfaceV5.sol\\\";\\n\\ninterface GNSPairInfosInterfaceV6{\\n    function maxNegativePnlOnOpenP() external view returns(uint); // PRECISION (%)\\n\\n    function storeTradeInitialAccFees(\\n        address trader,\\n        uint pairIndex,\\n        uint index,\\n        bool long\\n    ) external;\\n\\n    function getTradePriceImpact(\\n        uint openPrice,   // PRECISION\\n        uint pairIndex,\\n        bool long,\\n        uint openInterest // 1e18 (DAI)\\n    ) external view returns(\\n        uint priceImpactP,      // PRECISION (%)\\n        uint priceAfterImpact   // PRECISION\\n    );\\n\\n   function getTradeLiquidationPrice(\\n        address trader,\\n        uint pairIndex,\\n        uint index,\\n        uint openPrice,  // PRECISION\\n        bool long,\\n        uint collateral, // 1e18 (DAI)\\n        uint leverage\\n    ) external view returns(uint); // PRECISION\\n\\n    function getTradeValue(\\n        address trader,\\n        uint pairIndex,\\n        uint index,\\n        bool long,\\n        uint collateral,   // 1e18 (DAI)\\n        uint leverage,\\n        int percentProfit, // PRECISION (%)\\n        uint closingFee    // 1e18 (DAI)\\n    ) external returns(uint); // 1e18 (DAI)\\n\\n    function initialize(StorageInterfaceV5) external;\\n}\",\"keccak256\":\"0xa5cd5f2a70169c406cc3daff4c11bc7725d29d5421a20718f906ee0abd96cf7d\",\"license\":\"MIT\"},\"contracts/interfaces/KravFactoryInterface.sol\":{\"content\":\"pragma solidity 0.8.14;\\n\\nimport \\\"./TokenInterfaceV5.sol\\\";\\n\\ninterface KravFactoryInterface {\\n    function transferTokenProxy(TokenInterfaceV5 _token, address _from, address _to, uint256 _amount) external;\\n}\\n\",\"keccak256\":\"0x20d51fd58432952c4bd7a64e1904678abef3a8047d69ef5b68914dabfea7d74c\"},\"contracts/interfaces/NftInterfaceV5.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity 0.8.14;\\n\\ninterface NftInterfaceV5{\\n    function balanceOf(address) external view returns (uint);\\n    function ownerOf(uint) external view returns (address);\\n    function transferFrom(address, address, uint) external;\\n    function tokenOfOwnerByIndex(address, uint) external view returns(uint);\\n}\",\"keccak256\":\"0xc15a2883e44dce70305e896f2492f485c77f1a01595a9bb42d2662a22cfa5274\",\"license\":\"MIT\"},\"contracts/interfaces/PairsStorageInterfaceV6.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity 0.8.14;\\n\\nimport \\\"./StorageInterfaceV5.sol\\\";\\n\\ninterface PairsStorageInterfaceV6{\\n    struct Pair{\\n        string from;\\n        string to;\\n        Feed feed;\\n        uint spreadP;               // PRECISION\\n        uint groupIndex;\\n        uint feeIndex;\\n        int proportionBTC;          // 1000 -> ALT:BTC = 1000:1 ; -1000 -> ALT:BTC = 1:1000\\n    }\\n    struct Group{\\n        string name;\\n        bytes32 job;\\n        uint minLeverage;\\n        uint maxLeverage;\\n        uint maxCollateralP;        // % (of DAI vault current balance)\\n    }\\n    struct Fee{\\n        string name;\\n        uint openFeeP;              // PRECISION (% of leveraged pos)\\n        uint closeFeeP;             // PRECISION (% of leveraged pos)\\n        uint oracleFeeP;            // PRECISION (% of leveraged pos)\\n        uint nftLimitOrderFeeP;     // PRECISION (% of leveraged pos)\\n        uint referralFeeP;          // PRECISION (% of leveraged pos)\\n        uint minLevPosDai;          // 1e18 (collateral x leverage, useful for min fee)\\n    }\\n    enum FeedCalculation { DEFAULT, INVERT, COMBINE }    // FEED 1, 1 / (FEED 1), (FEED 1)/(FEED 2)\\n    struct Feed{ address feed1; address feed2; FeedCalculation feedCalculation; uint maxDeviationP; } // PRECISION (%)\\n    function initialize(uint _currentOrderId, StorageInterfaceV5 _storageT) external;\\n    function incrementCurrentOrderId() external returns(uint);\\n    function updateGroupCollateral(uint, uint, bool, bool) external;\\n    function pairJob(uint) external returns(string memory, string memory, bytes32, uint);\\n    function pairFeed(uint) external view returns(Feed memory);\\n    function pairSpreadP(uint) external view returns(uint);\\n    function pairMinLeverage(uint) external view returns(uint);\\n    function pairMaxLeverage(uint) external view returns(uint);\\n    function groupMaxCollateral(uint) external view returns(uint);\\n    function groupCollateral(uint, bool) external view returns(uint);\\n    function guaranteedSlEnabled(uint) external view returns(bool);\\n    function pairOpenFeeP(uint) external view returns(uint);\\n    function pairCloseFeeP(uint) external view returns(uint);\\n    function pairOracleFeeP(uint) external view returns(uint);\\n    function pairNftLimitOrderFeeP(uint) external view returns(uint);\\n    function pairReferralFeeP(uint) external view returns(uint);\\n    function pairMinLevPosDai(uint) external view returns(uint);\\n    function addFee(Fee calldata _fee) external;\\n    function addGroup(Group calldata _group) external;\\n    function addPair(Pair calldata _pair) external;\\n}\",\"keccak256\":\"0xb74e43340921cf67175e86076cdd083672dfb39326a47847747ef2bfedd20ccb\",\"license\":\"MIT\"},\"contracts/interfaces/StorageInterfaceV5.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\nimport './UniswapRouterInterfaceV5.sol';\\nimport './TokenInterfaceV5.sol';\\nimport './NftInterfaceV5.sol';\\nimport './VaultInterfaceV5.sol';\\nimport './PairsStorageInterfaceV6.sol';\\nimport \\\"./GNSPairInfosInterfaceV6.sol\\\";\\nimport \\\"./KravFactoryInterface.sol\\\";\\npragma solidity 0.8.14;\\n\\ninterface StorageInterfaceV5{\\n    enum LimitOrder { TP, SL, LIQ, OPEN }\\n    struct Trader{\\n        uint leverageUnlocked;\\n        address referral;\\n        uint referralRewardsTotal;  // 1e18\\n    }\\n    struct Trade{\\n        address trader;\\n        uint pairIndex;\\n        uint index;\\n        uint initialPosToken;       // 1e18\\n        uint positionSizeDai;       // 1e18\\n        uint openPrice;             // PRECISION\\n        bool buy;\\n        uint leverage;\\n        uint tp;                    // PRECISION\\n        uint sl;                    // PRECISION\\n    }\\n    struct TradeInfo{\\n        uint tokenId;\\n        uint tokenPriceDai;         // PRECISION\\n        uint openInterestDai;       // 1e18\\n        uint tpLastUpdated;\\n        uint slLastUpdated;\\n        bool beingMarketClosed;\\n    }\\n    struct OpenLimitOrder{\\n        address trader;\\n        uint pairIndex;\\n        uint index;\\n        uint positionSize;          // 1e18 (DAI or GFARM2)\\n        uint spreadReductionP;\\n        bool buy;\\n        uint leverage;\\n        uint tp;                    // PRECISION (%)\\n        uint sl;                    // PRECISION (%)\\n        uint minPrice;              // PRECISION\\n        uint maxPrice;              // PRECISION\\n        uint block;\\n        uint tokenId;               // index in supportedTokens\\n    }\\n    struct PendingMarketOrder{\\n        Trade trade;\\n        uint block;\\n        uint wantedPrice;           // PRECISION\\n        uint slippageP;             // PRECISION (%)\\n        uint spreadReductionP;\\n        uint tokenId;               // index in supportedTokens\\n    }\\n    struct PendingNftOrder{\\n        address nftHolder;\\n        uint nftId;\\n        address trader;\\n        uint pairIndex;\\n        uint index;\\n        LimitOrder orderType;\\n    }\\n    function initialize(KravFactoryInterface, TokenInterfaceV5, TokenInterfaceV5) external;\\n    function PRECISION() external pure returns(uint);\\n    function gov() external view returns(address);\\n    function dev() external view returns(address);\\n    function dai() external view returns(TokenInterfaceV5);\\n    // function token() external view returns(TokenInterfaceV5);\\n    function linkErc677() external view returns(TokenInterfaceV5);\\n    function tokenDaiRouter() external view returns(UniswapRouterInterfaceV5);\\n    function priceAggregator() external view returns(AggregatorInterfaceV6);\\n    function vault() external view returns(VaultInterfaceV5);\\n    function trading() external view returns(address);\\n    function callbacks() external view returns(address);\\n    function handleTokens(address,uint,bool) external;\\n    function transferDai(address, address, uint) external;\\n    function transferLinkToAggregator(address, uint, uint) external;\\n    function unregisterTrade(address, uint, uint) external;\\n    function unregisterPendingMarketOrder(uint, bool) external;\\n    function unregisterOpenLimitOrder(address, uint, uint) external;\\n    function hasOpenLimitOrder(address, uint, uint) external view returns(bool);\\n    function storePendingMarketOrder(PendingMarketOrder memory, uint, bool) external;\\n    function storeReferral(address, address) external;\\n    function openTrades(address, uint, uint) external view returns(Trade memory);\\n    function openTradesInfo(address, uint, uint) external view returns(TradeInfo memory);\\n    function updateSl(address, uint, uint, uint) external;\\n    function updateTp(address, uint, uint, uint) external;\\n    function getOpenLimitOrder(address, uint, uint) external view returns(OpenLimitOrder memory);\\n    function spreadReductionsP(uint) external view returns(uint);\\n    function positionSizeTokenDynamic(uint,uint) external view returns(uint);\\n    function maxSlP() external view returns(uint);\\n    function storeOpenLimitOrder(OpenLimitOrder memory) external;\\n    function reqID_pendingMarketOrder(uint) external view returns(PendingMarketOrder memory);\\n    function storePendingNftOrder(PendingNftOrder memory, uint) external;\\n    function updateOpenLimitOrder(OpenLimitOrder calldata) external;\\n    function firstEmptyTradeIndex(address, uint) external view returns(uint);\\n    function firstEmptyOpenLimitIndex(address, uint) external view returns(uint);\\n    function increaseNftRewards(uint, uint) external;\\n    function nftSuccessTimelock() external view returns(uint);\\n    function currentPercentProfit(uint,uint,bool,uint) external view returns(int);\\n    function reqID_pendingNftOrder(uint) external view returns(PendingNftOrder memory);\\n    function setNftLastSuccess(uint) external;\\n    function updateTrade(Trade memory) external;\\n    function nftLastSuccess(uint) external view returns(uint);\\n    function unregisterPendingNftOrder(uint) external;\\n    function handleDevGovFees(uint, uint, bool, bool) external returns(uint);\\n    function distributeLpRewards(uint) external;\\n    function getReferral(address) external view returns(address);\\n    function increaseReferralRewards(address, uint) external;\\n    function storeTrade(Trade memory, TradeInfo memory) external;\\n    function setLeverageUnlocked(address, uint) external;\\n    function getLeverageUnlocked(address) external view returns(uint);\\n    function openLimitOrdersCount(address, uint) external view returns(uint);\\n    function maxOpenLimitOrdersPerPair() external view returns(uint);\\n    function openTradesCount(address, uint) external view returns(uint);\\n    function pendingMarketOpenCount(address, uint) external view returns(uint);\\n    function pendingMarketCloseCount(address, uint) external view returns(uint);\\n    function maxTradesPerPair() external view returns(uint);\\n    function maxTradesPerBlock() external view returns(uint);\\n    function tradesPerBlock(uint) external view returns(uint);\\n    function pendingOrderIdsCount(address) external view returns(uint);\\n    function maxPendingMarketOrders() external view returns(uint);\\n    function maxGainP() external view returns(uint);\\n    function defaultLeverageUnlocked() external view returns(uint);\\n    function openInterestDai(uint, uint) external view returns(uint);\\n    function getPendingOrderIds(address) external view returns(uint[] memory);\\n    function traders(address) external view returns(Trader memory);\\n    function nfts(uint) external view returns(NftInterfaceV5);\\n    function setPriceAggregator(address) external;\\n    function addTradingContract(address _trading) external;\\n    function setTrading(address _trading) external;\\n    function setCallbacks(address _callbacks) external;\\n    function setVault(address _vault) external;\\n    function setMaxOpenInterestDai(uint _pairIndex, uint _newMaxOpenInterest) external;\\n    function factory() external view returns(KravFactoryInterface);\\n}\\n\\ninterface AggregatorInterfaceV6{\\n    enum OrderType { MARKET_OPEN, MARKET_CLOSE, LIMIT_OPEN, LIMIT_CLOSE, UPDATE_SL }\\n    function initialize(address[] memory, PairsStorageInterfaceV6, address, StorageInterfaceV5, address) external;\\n    function pairsStorage() external view returns(PairsStorageInterfaceV6);\\n    function nftRewards() external view returns(NftRewardsInterfaceV6);\\n    function getPrice(uint,OrderType,uint) external returns(uint);\\n    function tokenPriceDai() external view returns(uint);\\n    function linkFee(uint,uint) external view returns(uint);\\n    function tokenDaiReservesLp() external view returns(uint, uint);\\n    function pendingSlOrders(uint) external view returns(PendingSl memory);\\n    function storePendingSlOrder(uint orderId, PendingSl calldata p) external;\\n    function unregisterPendingSlOrder(uint orderId) external;\\n    struct PendingSl{address trader; uint pairIndex; uint index; uint openPrice; bool buy; uint newSl; }\\n}\\n\\ninterface NftRewardsInterfaceV6{\\n    struct TriggeredLimitId{ address trader; uint pairIndex; uint index; StorageInterfaceV5.LimitOrder order; }\\n    enum OpenLimitOrderType{ LEGACY, REVERSAL, MOMENTUM }\\n    function initialize(StorageInterfaceV5 _storageT) external;\\n    function storeFirstToTrigger(TriggeredLimitId calldata, address) external;\\n    function storeTriggerSameBlock(TriggeredLimitId calldata, address) external;\\n    function unregisterTrigger(TriggeredLimitId calldata) external;\\n    function distributeNftReward(TriggeredLimitId calldata, uint) external;\\n    function openLimitOrderTypes(address, uint, uint) external view returns(OpenLimitOrderType);\\n    function setOpenLimitOrderType(address, uint, uint, OpenLimitOrderType) external;\\n    function triggered(TriggeredLimitId calldata) external view returns(bool);\\n    function timedOut(TriggeredLimitId calldata) external view returns(bool);\\n}\\n\\ninterface TradingInterface {\\n    function initialize(StorageInterfaceV5 _storageT, GNSPairInfosInterfaceV6 _pairInfos) external;\\n}\",\"keccak256\":\"0xd8808232d2d5881c22f743ce6680281cfb465163da1de6c95eb75d3231030c4c\",\"license\":\"MIT\"},\"contracts/interfaces/TokenInterfaceV5.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity 0.8.14;\\n\\ninterface TokenInterfaceV5{\\n    function burn(address, uint256) external;\\n    function mint(address, uint256) external;\\n    function transfer(address, uint256) external returns (bool);\\n    function transferFrom(address, address, uint256) external returns(bool);\\n    function balanceOf(address) external view returns(uint256);\\n    function hasRole(bytes32, address) external view returns (bool);\\n    function approve(address, uint256) external returns (bool);\\n    function allowance(address, address) external view returns (uint256);\\n}\",\"keccak256\":\"0x839cb0952ddb74fd2cc563cbc511a7f4cec56599cb7cc3502f97c32327f2fe58\",\"license\":\"MIT\"},\"contracts/interfaces/UniswapRouterInterfaceV5.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity 0.8.14;\\n\\ninterface UniswapRouterInterfaceV5{\\n\\tfunction swapExactTokensForTokens(\\n\\t\\tuint amountIn,\\n\\t\\tuint amountOutMin,\\n\\t\\taddress[] calldata path,\\n\\t\\taddress to,\\n\\t\\tuint deadline\\n\\t) external returns (uint[] memory amounts);\\n\\n\\tfunction swapTokensForExactTokens(\\n\\t\\tuint amountOut,\\n\\t\\tuint amountInMax,\\n\\t\\taddress[] calldata path,\\n\\t\\taddress to,\\n\\t\\tuint deadline\\n\\t) external returns (uint[] memory amounts);\\n}\",\"keccak256\":\"0x366be084acb30ed686cc7f4999f30568ebdb11e6cc5909c6b24f95092b4dbddf\",\"license\":\"MIT\"},\"contracts/interfaces/VaultInterfaceV5.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity 0.8.14;\\n\\nimport \\\"./StorageInterfaceV5.sol\\\";\\n\\ninterface VaultInterfaceV5{\\n\\tfunction initialize(StorageInterfaceV5 _storageT) external;\\n\\tfunction sendDaiToTrader(address, uint) external;\\n\\tfunction receiveDaiFromTrader(address, uint, uint) external;\\n\\tfunction currentBalanceDai() external view returns(uint);\\n\\tfunction distributeRewardDai(uint) external;\\n\\tfunction depositDaiFor(uint _amount, address _account) external;\\n}\",\"keccak256\":\"0xac5be6546f4f03e71e0def15ff07f8193b7bd7609faa0b3dd78c05eea6f6dd2a\",\"license\":\"MIT\"}},\"version\":1}",
  "bytecode": "0x6101806040523480156200001257600080fd5b506040516200199b3803806200199b83398101604081905262000035916200008f565b6001600160a01b0397881660805295871660a05293861660c05291851660e052841661010052831661012052821661014052166101605262000137565b80516001600160a01b03811681146200008a57600080fd5b919050565b600080600080600080600080610100898b031215620000ad57600080fd5b620000b88962000072565b9750620000c860208a0162000072565b9650620000d860408a0162000072565b9550620000e860608a0162000072565b9450620000f860808a0162000072565b93506200010860a08a0162000072565b92506200011860c08a0162000072565b91506200012860e08a0162000072565b90509295985092959890939650565b60805160a05160c05160e051610100516101205161014051610160516117fe6200019d60003960006105d40152600061059d015260006105660152600061052f015260006104f8015260006104c10152600061048a0152600061045301526117fe6000f3fe608060405234801561001057600080fd5b50600436106100725760003560e01c806361addb471161005057806361addb47146100e7578063bbd54adc146101b3578063ce67948f146101c657600080fd5b8063162d58a5146100775780632500f7e9146100af5780632eb807ec146100c4575b600080fd5b61009a6100853660046113ef565b60026020526000908152604090205460ff1681565b60405190151581526020015b60405180910390f35b6100c26100bd366004611413565b6101dd565b005b61009a6100d23660046113ef565b60036020526000908152604090205460ff1681565b6101596100f5366004611464565b6000602081905290815260409020805460018201546002830154600384015460048501546005860154600687015460078801546008909801546001600160a01b03978816989688169795861696948616959384169492841693918216928216911689565b604080516001600160a01b039a8b168152988a1660208a01529689169688019690965293871660608701529186166080860152851660a0850152841660c0840152831660e0830152909116610100820152610120016100a6565b6100c26101c136600461147d565b6103fc565b6101cf60015481565b6040519081526020016100a6565b3360009081526002602052604090205460ff168061020a57503360009081526003602052604090205460ff165b61025b5760405162461bcd60e51b815260206004820152601760248201527f2173746f72616765202626202161676772656761746f7200000000000000000060448201526064015b60405180910390fd5b306001600160a01b0384160361032f5760405163a9059cbb60e01b81526001600160a01b0383811660048301526024820183905285169063a9059cbb906044016020604051808303816000875af11580156102ba573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102de9190611524565b61032a5760405162461bcd60e51b815260206004820152601260248201527f6661696c656420746f207472616e7366657200000000000000000000000000006044820152606401610252565b6103f6565b6040516323b872dd60e01b81526001600160a01b0384811660048301528381166024830152604482018390528516906323b872dd906064016020604051808303816000875af1158015610386573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906103aa9190611524565b6103f65760405162461bcd60e51b815260206004820152601260248201527f6661696c656420746f207472616e7366657200000000000000000000000000006044820152606401610252565b50505050565b6040805161012081018252600060208201819052918101829052606081018290526080810182905260a0810182905260c0810182905260e081018290526101008101919091526001600160a01b03871681526104777f000000000000000000000000000000000000000000000000000000000000000061131c565b6001600160a01b031660208201526104ae7f000000000000000000000000000000000000000000000000000000000000000061131c565b6001600160a01b031660408201526104e57f000000000000000000000000000000000000000000000000000000000000000061131c565b6001600160a01b0316606082015261051c7f000000000000000000000000000000000000000000000000000000000000000061131c565b6001600160a01b031660808201526105537f000000000000000000000000000000000000000000000000000000000000000061131c565b6001600160a01b031660a082015261058a7f000000000000000000000000000000000000000000000000000000000000000061131c565b6001600160a01b031660c08201526105c17f000000000000000000000000000000000000000000000000000000000000000061131c565b6001600160a01b031660e08201526105f87f000000000000000000000000000000000000000000000000000000000000000061131c565b6001600160a01b0390811661010083015260208201516040808401516060850151915163c0c53b8b60e01b81523060048201528b851660248201528a85166044820152929390929084169063c0c53b8b90606401600060405180830381600087803b15801561066657600080fd5b505af115801561067a573d6000803e3d6000fd5b505060405163189acdbd60e31b81526001600160a01b0386811660048301528516925063c4d66de89150602401600060405180830381600087803b1580156106c157600080fd5b505af11580156106d5573d6000803e3d6000fd5b505060405163da35a26f60e01b8152600160048201526001600160a01b0386811660248301528416925063da35a26f9150604401600060405180830381600087803b15801561072357600080fd5b505af1158015610737573d6000803e3d6000fd5b505050608085015160405163485cc95560e01b81526001600160a01b0386811660048301528581166024830152909116915063485cc95590604401600060405180830381600087803b15801561078c57600080fd5b505af11580156107a0573d6000803e3d6000fd5b50505060a085015160405163485cc95560e01b81526001600160a01b0386811660048301528581166024830152909116915063485cc95590604401600060405180830381600087803b1580156107f557600080fd5b505af1158015610809573d6000803e3d6000fd5b50505060c085015160405163189acdbd60e31b81526001600160a01b038681166004830152909116915063c4d66de890602401600060405180830381600087803b15801561085657600080fd5b505af115801561086a573d6000803e3d6000fd5b50505060e085015160405163189acdbd60e31b81526001600160a01b038681166004830152909116915063c4d66de890602401600060405180830381600087803b1580156108b757600080fd5b505af11580156108cb573d6000803e3d6000fd5b505050508361010001516001600160a01b0316635aa5869b8989848860c00151888f6040518763ffffffff1660e01b815260040161090e96959493929190611546565b600060405180830381600087803b15801561092857600080fd5b505af115801561093c573d6000803e3d6000fd5b50505050610100840151604051635070e83760e01b81526001600160a01b03918216600482015290841690635070e83790602401600060405180830381600087803b15801561098a57600080fd5b505af115801561099e573d6000803e3d6000fd5b505050506080840151604051637c11f15760e11b81526001600160a01b0391821660048201529084169063f823e2ae90602401600060405180830381600087803b1580156109eb57600080fd5b505af11580156109ff573d6000803e3d6000fd5b5050505060a0840151604051637c11f15760e11b81526001600160a01b0391821660048201529084169063f823e2ae90602401600060405180830381600087803b158015610a4c57600080fd5b505af1158015610a60573d6000803e3d6000fd5b5050505060e0840151604051637c11f15760e11b81526001600160a01b0391821660048201529084169063f823e2ae90602401600060405180830381600087803b158015610aad57600080fd5b505af1158015610ac1573d6000803e3d6000fd5b505050506080840151604051632954e41b60e21b81526001600160a01b0391821660048201529084169063a553906c90602401600060405180830381600087803b158015610b0e57600080fd5b505af1158015610b22573d6000803e3d6000fd5b5050505060a0840151604051637f07e46b60e11b81526001600160a01b0391821660048201529084169063fe0fc8d690602401600060405180830381600087803b158015610b6f57600080fd5b505af1158015610b83573d6000803e3d6000fd5b5050505060e0840151604051636817031b60e01b81526001600160a01b03918216600482015290841690636817031b90602401600060405180830381600087803b158015610bd057600080fd5b505af1158015610be4573d6000803e3d6000fd5b505060405163e378b36760e01b81526000600482015260001960248201526001600160a01b038616925063e378b3679150604401600060405180830381600087803b158015610c3257600080fd5b505af1158015610c46573d6000803e3d6000fd5b50506040805161012081018252600660e082019081526563727970746f60d01b61010083015281526311e1a30060208201526323c346008183015263039387006060820152630bebc2006080820152600160a0820152685150ae84a8cdf0000060c08201529051632308fe0760e21b81526001600160a01b0385169350638c23f81c9250610cd7919060040161160b565b600060405180830381600087803b158015610cf157600080fd5b505af1158015610d05573d6000803e3d6000fd5b50506040805160e081018252600660a082019081526563727970746f60d01b60c083015281527f3335303438333964343337663437383339333330353365386330333465363933602082015260028183015260966060820152600f6080820152905163472ff8bb60e01b81526001600160a01b038516935063472ff8bb9250610d919190600401611670565b600060405180830381600087803b158015610dab57600080fd5b505af1158015610dbf573d6000803e3d6000fd5b50505050806001600160a01b0316635c25f4c56040518060e001604052806040518060400160405280600381526020016242544360e81b8152508152602001604051806040016040528060038152602001621554d160ea1b81525081526020016040518060800160405280731b44f3514812d835eb1bdb0acb33d3fa3351ee436001600160a01b0316815260200160006001600160a01b0316815260200160006002811115610e7057610e706116c0565b81526020016404a817c80081525081526020016317d7840081526020016000815260200160008152602001898152506040518263ffffffff1660e01b8152600401610ebb91906116d6565b600060405180830381600087803b158015610ed557600080fd5b505af1158015610ee9573d6000803e3d6000fd5b505050506020848101516001600160a01b0390811660009081526002835260408082208054600160ff1991821681179092556101008a015185168452600390955291819020805490941690911790925590516323b872dd60e01b815233600482015230602482015260448101879052908b16906323b872dd906064016020604051808303816000875af1158015610f84573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610fa89190611524565b610fb157600080fd5b60e084015160405163095ea7b360e01b81526001600160a01b03918216600482015260248101879052908b169063095ea7b3906044016020604051808303816000875af1158015611006573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061102a9190611524565b5060e0840151604051630a2f65f560e31b8152600481018790523360248201526001600160a01b039091169063517b2fa890604401600060405180830381600087803b15801561107957600080fd5b505af115801561108d573d6000803e3d6000fd5b505060018054600093509150826110a3836117a1565b9190505590508460008083815260200190815260200160002060008201518160000160006101000a8154816001600160a01b0302191690836001600160a01b0316021790555060208201518160010160006101000a8154816001600160a01b0302191690836001600160a01b0316021790555060408201518160020160006101000a8154816001600160a01b0302191690836001600160a01b0316021790555060608201518160030160006101000a8154816001600160a01b0302191690836001600160a01b0316021790555060808201518160040160006101000a8154816001600160a01b0302191690836001600160a01b0316021790555060a08201518160050160006101000a8154816001600160a01b0302191690836001600160a01b0316021790555060c08201518160060160006101000a8154816001600160a01b0302191690836001600160a01b0316021790555060e08201518160070160006101000a8154816001600160a01b0302191690836001600160a01b031602179055506101008201518160080160006101000a8154816001600160a01b0302191690836001600160a01b031602179055509050507f5c81c71af616b8773a312ce82b16990e78cb55072a05427bc7fb08bbae50959d81888d8787878b608001518c60a001518d60c001518e60e001518f61010001516040516113079b9a999897969594939291909a8b5260208b01999099526001600160a01b0397881660408b015295871660608a0152938616608089015291851660a0880152841660c0870152831660e086015282166101008501528116610120840152166101408201526101600190565b60405180910390a15050505050505050505050565b60006040517f3d602d80600a3d3981f3363d3d373d3d3d363d7300000000000000000000000081528260601b60148201527f5af43d82803e903d91602b57fd5bf3000000000000000000000000000000000060288201526037816000f09150506001600160a01b0381166113d25760405162461bcd60e51b815260206004820152601660248201527f455243313136373a20637265617465206661696c6564000000000000000000006044820152606401610252565b919050565b6001600160a01b03811681146113ec57600080fd5b50565b60006020828403121561140157600080fd5b813561140c816113d7565b9392505050565b6000806000806080858703121561142957600080fd5b8435611434816113d7565b93506020850135611444816113d7565b92506040850135611454816113d7565b9396929550929360600135925050565b60006020828403121561147657600080fd5b5035919050565b60008060008060008060a0878903121561149657600080fd5b86356114a1816113d7565b955060208701356114b1816113d7565b9450604087013567ffffffffffffffff808211156114ce57600080fd5b818901915089601f8301126114e257600080fd5b8135818111156114f157600080fd5b8a60208260051b850101111561150657600080fd5b979a9699505060200196606081013595608090910135945092505050565b60006020828403121561153657600080fd5b8151801515811461140c57600080fd5b60a0808252810186905260008760c08301825b8981101561158957823561156c816113d7565b6001600160a01b0316825260209283019290910190600101611559565b506001600160a01b03978816602085015295871660408401525050918416606083015290921660809092019190915292915050565b6000815180845260005b818110156115e4576020818501810151868301820152016115c8565b818111156115f6576000602083870101525b50601f01601f19169290920160200192915050565b602081526000825160e060208401526116286101008401826115be565b9050602084015160408401526040840151606084015260608401516080840152608084015160a084015260a084015160c084015260c084015160e08401528091505092915050565b602081526000825160a0602084015261168c60c08401826115be565b9050602084015160408401526040840151606084015260608401516080840152608084015160a08401528091505092915050565b634e487b7160e01b600052602160045260246000fd5b60208152600082516101408060208501526116f56101608501836115be565b91506020850151601f1985840301604086015261171283826115be565b92505060408501516001600160a01b038082511660608701528060208301511660808701525060408101516003811061175b57634e487b7160e01b600052602160045260246000fd5b8060a087015250606081015160c086015250606085015160e0850152608085015161010085015260a085015161012085015260c085015181850152508091505092915050565b6000600182016117c157634e487b7160e01b600052601160045260246000fd5b506001019056fea26469706673582212205ce882d1df8dc837c8b7232ce9329e336bcebb7c651337b5eab86a2c389f0b8864736f6c634300080e0033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100725760003560e01c806361addb471161005057806361addb47146100e7578063bbd54adc146101b3578063ce67948f146101c657600080fd5b8063162d58a5146100775780632500f7e9146100af5780632eb807ec146100c4575b600080fd5b61009a6100853660046113ef565b60026020526000908152604090205460ff1681565b60405190151581526020015b60405180910390f35b6100c26100bd366004611413565b6101dd565b005b61009a6100d23660046113ef565b60036020526000908152604090205460ff1681565b6101596100f5366004611464565b6000602081905290815260409020805460018201546002830154600384015460048501546005860154600687015460078801546008909801546001600160a01b03978816989688169795861696948616959384169492841693918216928216911689565b604080516001600160a01b039a8b168152988a1660208a01529689169688019690965293871660608701529186166080860152851660a0850152841660c0840152831660e0830152909116610100820152610120016100a6565b6100c26101c136600461147d565b6103fc565b6101cf60015481565b6040519081526020016100a6565b3360009081526002602052604090205460ff168061020a57503360009081526003602052604090205460ff165b61025b5760405162461bcd60e51b815260206004820152601760248201527f2173746f72616765202626202161676772656761746f7200000000000000000060448201526064015b60405180910390fd5b306001600160a01b0384160361032f5760405163a9059cbb60e01b81526001600160a01b0383811660048301526024820183905285169063a9059cbb906044016020604051808303816000875af11580156102ba573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102de9190611524565b61032a5760405162461bcd60e51b815260206004820152601260248201527f6661696c656420746f207472616e7366657200000000000000000000000000006044820152606401610252565b6103f6565b6040516323b872dd60e01b81526001600160a01b0384811660048301528381166024830152604482018390528516906323b872dd906064016020604051808303816000875af1158015610386573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906103aa9190611524565b6103f65760405162461bcd60e51b815260206004820152601260248201527f6661696c656420746f207472616e7366657200000000000000000000000000006044820152606401610252565b50505050565b6040805161012081018252600060208201819052918101829052606081018290526080810182905260a0810182905260c0810182905260e081018290526101008101919091526001600160a01b03871681526104777f000000000000000000000000000000000000000000000000000000000000000061131c565b6001600160a01b031660208201526104ae7f000000000000000000000000000000000000000000000000000000000000000061131c565b6001600160a01b031660408201526104e57f000000000000000000000000000000000000000000000000000000000000000061131c565b6001600160a01b0316606082015261051c7f000000000000000000000000000000000000000000000000000000000000000061131c565b6001600160a01b031660808201526105537f000000000000000000000000000000000000000000000000000000000000000061131c565b6001600160a01b031660a082015261058a7f000000000000000000000000000000000000000000000000000000000000000061131c565b6001600160a01b031660c08201526105c17f000000000000000000000000000000000000000000000000000000000000000061131c565b6001600160a01b031660e08201526105f87f000000000000000000000000000000000000000000000000000000000000000061131c565b6001600160a01b0390811661010083015260208201516040808401516060850151915163c0c53b8b60e01b81523060048201528b851660248201528a85166044820152929390929084169063c0c53b8b90606401600060405180830381600087803b15801561066657600080fd5b505af115801561067a573d6000803e3d6000fd5b505060405163189acdbd60e31b81526001600160a01b0386811660048301528516925063c4d66de89150602401600060405180830381600087803b1580156106c157600080fd5b505af11580156106d5573d6000803e3d6000fd5b505060405163da35a26f60e01b8152600160048201526001600160a01b0386811660248301528416925063da35a26f9150604401600060405180830381600087803b15801561072357600080fd5b505af1158015610737573d6000803e3d6000fd5b505050608085015160405163485cc95560e01b81526001600160a01b0386811660048301528581166024830152909116915063485cc95590604401600060405180830381600087803b15801561078c57600080fd5b505af11580156107a0573d6000803e3d6000fd5b50505060a085015160405163485cc95560e01b81526001600160a01b0386811660048301528581166024830152909116915063485cc95590604401600060405180830381600087803b1580156107f557600080fd5b505af1158015610809573d6000803e3d6000fd5b50505060c085015160405163189acdbd60e31b81526001600160a01b038681166004830152909116915063c4d66de890602401600060405180830381600087803b15801561085657600080fd5b505af115801561086a573d6000803e3d6000fd5b50505060e085015160405163189acdbd60e31b81526001600160a01b038681166004830152909116915063c4d66de890602401600060405180830381600087803b1580156108b757600080fd5b505af11580156108cb573d6000803e3d6000fd5b505050508361010001516001600160a01b0316635aa5869b8989848860c00151888f6040518763ffffffff1660e01b815260040161090e96959493929190611546565b600060405180830381600087803b15801561092857600080fd5b505af115801561093c573d6000803e3d6000fd5b50505050610100840151604051635070e83760e01b81526001600160a01b03918216600482015290841690635070e83790602401600060405180830381600087803b15801561098a57600080fd5b505af115801561099e573d6000803e3d6000fd5b505050506080840151604051637c11f15760e11b81526001600160a01b0391821660048201529084169063f823e2ae90602401600060405180830381600087803b1580156109eb57600080fd5b505af11580156109ff573d6000803e3d6000fd5b5050505060a0840151604051637c11f15760e11b81526001600160a01b0391821660048201529084169063f823e2ae90602401600060405180830381600087803b158015610a4c57600080fd5b505af1158015610a60573d6000803e3d6000fd5b5050505060e0840151604051637c11f15760e11b81526001600160a01b0391821660048201529084169063f823e2ae90602401600060405180830381600087803b158015610aad57600080fd5b505af1158015610ac1573d6000803e3d6000fd5b505050506080840151604051632954e41b60e21b81526001600160a01b0391821660048201529084169063a553906c90602401600060405180830381600087803b158015610b0e57600080fd5b505af1158015610b22573d6000803e3d6000fd5b5050505060a0840151604051637f07e46b60e11b81526001600160a01b0391821660048201529084169063fe0fc8d690602401600060405180830381600087803b158015610b6f57600080fd5b505af1158015610b83573d6000803e3d6000fd5b5050505060e0840151604051636817031b60e01b81526001600160a01b03918216600482015290841690636817031b90602401600060405180830381600087803b158015610bd057600080fd5b505af1158015610be4573d6000803e3d6000fd5b505060405163e378b36760e01b81526000600482015260001960248201526001600160a01b038616925063e378b3679150604401600060405180830381600087803b158015610c3257600080fd5b505af1158015610c46573d6000803e3d6000fd5b50506040805161012081018252600660e082019081526563727970746f60d01b61010083015281526311e1a30060208201526323c346008183015263039387006060820152630bebc2006080820152600160a0820152685150ae84a8cdf0000060c08201529051632308fe0760e21b81526001600160a01b0385169350638c23f81c9250610cd7919060040161160b565b600060405180830381600087803b158015610cf157600080fd5b505af1158015610d05573d6000803e3d6000fd5b50506040805160e081018252600660a082019081526563727970746f60d01b60c083015281527f3335303438333964343337663437383339333330353365386330333465363933602082015260028183015260966060820152600f6080820152905163472ff8bb60e01b81526001600160a01b038516935063472ff8bb9250610d919190600401611670565b600060405180830381600087803b158015610dab57600080fd5b505af1158015610dbf573d6000803e3d6000fd5b50505050806001600160a01b0316635c25f4c56040518060e001604052806040518060400160405280600381526020016242544360e81b8152508152602001604051806040016040528060038152602001621554d160ea1b81525081526020016040518060800160405280731b44f3514812d835eb1bdb0acb33d3fa3351ee436001600160a01b0316815260200160006001600160a01b0316815260200160006002811115610e7057610e706116c0565b81526020016404a817c80081525081526020016317d7840081526020016000815260200160008152602001898152506040518263ffffffff1660e01b8152600401610ebb91906116d6565b600060405180830381600087803b158015610ed557600080fd5b505af1158015610ee9573d6000803e3d6000fd5b505050506020848101516001600160a01b0390811660009081526002835260408082208054600160ff1991821681179092556101008a015185168452600390955291819020805490941690911790925590516323b872dd60e01b815233600482015230602482015260448101879052908b16906323b872dd906064016020604051808303816000875af1158015610f84573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610fa89190611524565b610fb157600080fd5b60e084015160405163095ea7b360e01b81526001600160a01b03918216600482015260248101879052908b169063095ea7b3906044016020604051808303816000875af1158015611006573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061102a9190611524565b5060e0840151604051630a2f65f560e31b8152600481018790523360248201526001600160a01b039091169063517b2fa890604401600060405180830381600087803b15801561107957600080fd5b505af115801561108d573d6000803e3d6000fd5b505060018054600093509150826110a3836117a1565b9190505590508460008083815260200190815260200160002060008201518160000160006101000a8154816001600160a01b0302191690836001600160a01b0316021790555060208201518160010160006101000a8154816001600160a01b0302191690836001600160a01b0316021790555060408201518160020160006101000a8154816001600160a01b0302191690836001600160a01b0316021790555060608201518160030160006101000a8154816001600160a01b0302191690836001600160a01b0316021790555060808201518160040160006101000a8154816001600160a01b0302191690836001600160a01b0316021790555060a08201518160050160006101000a8154816001600160a01b0302191690836001600160a01b0316021790555060c08201518160060160006101000a8154816001600160a01b0302191690836001600160a01b0316021790555060e08201518160070160006101000a8154816001600160a01b0302191690836001600160a01b031602179055506101008201518160080160006101000a8154816001600160a01b0302191690836001600160a01b031602179055509050507f5c81c71af616b8773a312ce82b16990e78cb55072a05427bc7fb08bbae50959d81888d8787878b608001518c60a001518d60c001518e60e001518f61010001516040516113079b9a999897969594939291909a8b5260208b01999099526001600160a01b0397881660408b015295871660608a0152938616608089015291851660a0880152841660c0870152831660e086015282166101008501528116610120840152166101408201526101600190565b60405180910390a15050505050505050505050565b60006040517f3d602d80600a3d3981f3363d3d373d3d3d363d7300000000000000000000000081528260601b60148201527f5af43d82803e903d91602b57fd5bf3000000000000000000000000000000000060288201526037816000f09150506001600160a01b0381166113d25760405162461bcd60e51b815260206004820152601660248201527f455243313136373a20637265617465206661696c6564000000000000000000006044820152606401610252565b919050565b6001600160a01b03811681146113ec57600080fd5b50565b60006020828403121561140157600080fd5b813561140c816113d7565b9392505050565b6000806000806080858703121561142957600080fd5b8435611434816113d7565b93506020850135611444816113d7565b92506040850135611454816113d7565b9396929550929360600135925050565b60006020828403121561147657600080fd5b5035919050565b60008060008060008060a0878903121561149657600080fd5b86356114a1816113d7565b955060208701356114b1816113d7565b9450604087013567ffffffffffffffff808211156114ce57600080fd5b818901915089601f8301126114e257600080fd5b8135818111156114f157600080fd5b8a60208260051b850101111561150657600080fd5b979a9699505060200196606081013595608090910135945092505050565b60006020828403121561153657600080fd5b8151801515811461140c57600080fd5b60a0808252810186905260008760c08301825b8981101561158957823561156c816113d7565b6001600160a01b0316825260209283019290910190600101611559565b506001600160a01b03978816602085015295871660408401525050918416606083015290921660809092019190915292915050565b6000815180845260005b818110156115e4576020818501810151868301820152016115c8565b818111156115f6576000602083870101525b50601f01601f19169290920160200192915050565b602081526000825160e060208401526116286101008401826115be565b9050602084015160408401526040840151606084015260608401516080840152608084015160a084015260a084015160c084015260c084015160e08401528091505092915050565b602081526000825160a0602084015261168c60c08401826115be565b9050602084015160408401526040840151606084015260608401516080840152608084015160a08401528091505092915050565b634e487b7160e01b600052602160045260246000fd5b60208152600082516101408060208501526116f56101608501836115be565b91506020850151601f1985840301604086015261171283826115be565b92505060408501516001600160a01b038082511660608701528060208301511660808701525060408101516003811061175b57634e487b7160e01b600052602160045260246000fd5b8060a087015250606081015160c086015250606085015160e0850152608085015161010085015260a085015161012085015260c085015181850152508091505092915050565b6000600182016117c157634e487b7160e01b600052601160045260246000fd5b506001019056fea26469706673582212205ce882d1df8dc837c8b7232ce9329e336bcebb7c651337b5eab86a2c389f0b8864736f6c634300080e0033",
  "devdoc": {
    "kind": "dev",
    "methods": {},
    "version": 1
  },
  "userdoc": {
    "kind": "user",
    "methods": {},
    "version": 1
  },
  "storageLayout": {
    "storage": [
      {
        "astId": 127,
        "contract": "contracts/KravFactory.sol:KravFactory",
        "label": "quantos",
        "offset": 0,
        "slot": "0",
        "type": "t_mapping(t_uint256,t_struct(Quanto)106_storage)"
      },
      {
        "astId": 129,
        "contract": "contracts/KravFactory.sol:KravFactory",
        "label": "quantosCount",
        "offset": 0,
        "slot": "1",
        "type": "t_uint256"
      },
      {
        "astId": 133,
        "contract": "contracts/KravFactory.sol:KravFactory",
        "label": "isStorage",
        "offset": 0,
        "slot": "2",
        "type": "t_mapping(t_address,t_bool)"
      },
      {
        "astId": 137,
        "contract": "contracts/KravFactory.sol:KravFactory",
        "label": "isPriceAggregator",
        "offset": 0,
        "slot": "3",
        "type": "t_mapping(t_address,t_bool)"
      }
    ],
    "types": {
      "t_address": {
        "encoding": "inplace",
        "label": "address",
        "numberOfBytes": "20"
      },
      "t_bool": {
        "encoding": "inplace",
        "label": "bool",
        "numberOfBytes": "1"
      },
      "t_mapping(t_address,t_bool)": {
        "encoding": "mapping",
        "key": "t_address",
        "label": "mapping(address => bool)",
        "numberOfBytes": "32",
        "value": "t_bool"
      },
      "t_mapping(t_uint256,t_struct(Quanto)106_storage)": {
        "encoding": "mapping",
        "key": "t_uint256",
        "label": "mapping(uint256 => struct KravFactory.Quanto)",
        "numberOfBytes": "32",
        "value": "t_struct(Quanto)106_storage"
      },
      "t_struct(Quanto)106_storage": {
        "encoding": "inplace",
        "label": "struct KravFactory.Quanto",
        "members": [
          {
            "astId": 89,
            "contract": "contracts/KravFactory.sol:KravFactory",
            "label": "tokenT",
            "offset": 0,
            "slot": "0",
            "type": "t_address"
          },
          {
            "astId": 91,
            "contract": "contracts/KravFactory.sol:KravFactory",
            "label": "storageT",
            "offset": 0,
            "slot": "1",
            "type": "t_address"
          },
          {
            "astId": 93,
            "contract": "contracts/KravFactory.sol:KravFactory",
            "label": "pairInfoT",
            "offset": 0,
            "slot": "2",
            "type": "t_address"
          },
          {
            "astId": 95,
            "contract": "contracts/KravFactory.sol:KravFactory",
            "label": "pairStorageT",
            "offset": 0,
            "slot": "3",
            "type": "t_address"
          },
          {
            "astId": 97,
            "contract": "contracts/KravFactory.sol:KravFactory",
            "label": "tradingT",
            "offset": 0,
            "slot": "4",
            "type": "t_address"
          },
          {
            "astId": 99,
            "contract": "contracts/KravFactory.sol:KravFactory",
            "label": "callbackT",
            "offset": 0,
            "slot": "5",
            "type": "t_address"
          },
          {
            "astId": 101,
            "contract": "contracts/KravFactory.sol:KravFactory",
            "label": "rewardT",
            "offset": 0,
            "slot": "6",
            "type": "t_address"
          },
          {
            "astId": 103,
            "contract": "contracts/KravFactory.sol:KravFactory",
            "label": "vaultT",
            "offset": 0,
            "slot": "7",
            "type": "t_address"
          },
          {
            "astId": 105,
            "contract": "contracts/KravFactory.sol:KravFactory",
            "label": "priceAggregatorT",
            "offset": 0,
            "slot": "8",
            "type": "t_address"
          }
        ],
        "numberOfBytes": "288"
      },
      "t_uint256": {
        "encoding": "inplace",
        "label": "uint256",
        "numberOfBytes": "32"
      }
    }
  }
}
